<!DOCTYPE html>
        <html>
        <head>
            <meta charset="UTF-8">
            <title>LeetCode&colon; Best time to buy and sell stocks</title>
            <style>
/* From extension vscode.github */
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

.vscode-dark img[src$=\#gh-light-mode-only],
.vscode-light img[src$=\#gh-dark-mode-only],
.vscode-high-contrast:not(.vscode-high-contrast-light) img[src$=\#gh-light-mode-only],
.vscode-high-contrast-light img[src$=\#gh-dark-mode-only] {
	display: none;
}

</style>
            <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex/dist/katex.min.css">
<link href="https://cdn.jsdelivr.net/npm/katex-copytex@latest/dist/katex-copytex.min.css" rel="stylesheet" type="text/css">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Microsoft/vscode/extensions/markdown-language-features/media/markdown.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Microsoft/vscode/extensions/markdown-language-features/media/highlight.css">
<style>
            body {
                font-family: -apple-system, BlinkMacSystemFont, 'Segoe WPC', 'Segoe UI', system-ui, 'Ubuntu', 'Droid Sans', sans-serif;
                font-size: 14px;
                line-height: 1.6;
            }
        </style>
        <style>
.task-list-item {
    list-style-type: none;
}

.task-list-item-checkbox {
    margin-left: -20px;
    vertical-align: middle;
    pointer-events: none;
}
</style>
<style>
:root {
  --color-note: #0969da;
  --color-tip: #1a7f37;
  --color-warning: #9a6700;
  --color-severe: #bc4c00;
  --color-caution: #d1242f;
  --color-important: #8250df;
}

</style>
<style>
@media (prefers-color-scheme: dark) {
  :root {
    --color-note: #2f81f7;
    --color-tip: #3fb950;
    --color-warning: #d29922;
    --color-severe: #db6d28;
    --color-caution: #f85149;
    --color-important: #a371f7;
  }
}

</style>
<style>
.markdown-alert {
  padding: 0.5rem 1rem;
  margin-bottom: 16px;
  color: inherit;
  border-left: .25em solid #888;
}

.markdown-alert>:first-child {
  margin-top: 0
}

.markdown-alert>:last-child {
  margin-bottom: 0
}

.markdown-alert .markdown-alert-title {
  display: flex;
  font-weight: 500;
  align-items: center;
  line-height: 1
}

.markdown-alert .markdown-alert-title .octicon {
  margin-right: 0.5rem;
  display: inline-block;
  overflow: visible !important;
  vertical-align: text-bottom;
  fill: currentColor;
}

.markdown-alert.markdown-alert-note {
  border-left-color: var(--color-note);
}

.markdown-alert.markdown-alert-note .markdown-alert-title {
  color: var(--color-note);
}

.markdown-alert.markdown-alert-important {
  border-left-color: var(--color-important);
}

.markdown-alert.markdown-alert-important .markdown-alert-title {
  color: var(--color-important);
}

.markdown-alert.markdown-alert-warning {
  border-left-color: var(--color-warning);
}

.markdown-alert.markdown-alert-warning .markdown-alert-title {
  color: var(--color-warning);
}

.markdown-alert.markdown-alert-tip {
  border-left-color: var(--color-tip);
}

.markdown-alert.markdown-alert-tip .markdown-alert-title {
  color: var(--color-tip);
}

.markdown-alert.markdown-alert-caution {
  border-left-color: var(--color-caution);
}

.markdown-alert.markdown-alert-caution .markdown-alert-title {
  color: var(--color-caution);
}

</style>
        
        </head>
        <body class="vscode-body vscode-light">
            <h1 id="leetcode-best-time-to-buy-and-sell-stocks">LeetCode: Best time to buy and sell stocks</h1>
<h2 id="problem-statements">Problem statements:</h2>
<!-- - [Leetcode-121](https://leetcode.com/problems/best-time-to-buy-and-sell-stock/description/) [*Difficulty: Easy*] -->
<ul>
<li>You are given an array prices where prices[i] is the price of a given stock on the ith day.</li>
<li>You want to maximize your profit by choosing a single day to buy one stock and choosing a different day in the future to sell that stock.</li>
<li>Return the maximum profit you can achieve from this transaction. If you cannot achieve any profit, return 0.</li>
</ul>
<h3 id="examples">Examples:</h3>
<ul>
<li>
<p><strong>Example 1:</strong></p>
<ul>
<li><strong>Input:</strong> prices = [7,1,5,3,6,4]</li>
<li><strong>Output:</strong> 5</li>
<li><strong>Explanation:</strong>
<ul>
<li>Buy on day 2 (price = 1) and sell on day 5 (price = 6), profit = 6-1 = 5.</li>
<li><em><strong>Note that</strong></em> buying on day 2 and selling on day 1 is not allowed because you must buy before you sell.</li>
</ul>
</li>
</ul>
</li>
<li>
<p><em><strong>Example 2:</strong></em></p>
<ul>
<li><strong>Input:</strong> prices = [7,6,4,3,1]</li>
<li><strong>Output:</strong> 0</li>
<li><strong>Explanation:</strong> In this case, no transactions are done and the max profit = 0.</li>
</ul>
</li>
</ul>
<h3 id="constraints">Constraints:</h3>
<ul>
<li>1 &lt;= prices.length &lt;= 105</li>
<li>0 &lt;= prices[i] &lt;= 104</li>
</ul>
<h2 id="edge-cases-to-consider">Edge cases to consider</h2>
<ul>
<li><strong>Empty prices array:</strong>
<ul>
<li>If the input array is empty, no transaction can be made, so the profit should be 0.</li>
</ul>
</li>
<li><strong>Array with only one price:</strong>
<ul>
<li>Similar to the empty array, if there's only one day's price, we can't buy and sell on different days, so the profit is 0.</li>
</ul>
</li>
<li><strong>Prices are in decreasing order:</strong>
<ul>
<li>If the stock price consistently decreases, no profitable transaction is possible, and the profit should be 0.</li>
</ul>
</li>
<li><strong>Prices are in increasing order:</strong>
<ul>
<li>In this case, buying on the first day and selling on the last day will yield the maximum profit.</li>
</ul>
</li>
<li><strong>Prices are the same for all days:</strong>
<ul>
<li>No profit can be made as the buying and selling prices will always be equal, resulting in a profit of 0.</li>
</ul>
</li>
</ul>
<h2 id="brute-force-approach-tc---on2-sc---o1">Brute-Force Approach: <em>[T.C. - <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><msup><mi>n</mi><mn>2</mn></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n^2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0641em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>, S.C. - <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span></span></span></span>]</em></h2>
<ul>
<li>The most straightforward approach is to consider all possible pairs of buying and selling days.</li>
<li>We can iterate through the prices array using nested loops.
<ul>
<li>The outer loop iterates from the first day to the second-to-last day (potential buy days), and the inner loop iterates from the day after the outer loop's current day to the last day (potential sell days).</li>
<li>For each pair of buy and sell days, we calculate the profit and keep track of the maximum profit found so far.</li>
</ul>
</li>
</ul>
<h3 id="algorithm-for-brute-force-approach">Algorithm for Brute-Force Approach:</h3>
<ul>
<li>Initialize a variable <em>max_profit</em> to 0.</li>
<li>Iterate through the prices array with an index <code>i</code> from 0 to <code>n-2</code> (where <code>n</code> is the length of prices). This represents the buy day.
<ul>
<li>For each i, iterate through the prices array with an index <code>j</code> from <code>i+1</code> to <code>n-1</code>. This represents the sell day.</li>
<li>Calculate the profit for this pair: <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi><mi>r</mi><mi>o</mi><mi>f</mi><mi>i</mi><mi>t</mi><mo>=</mo><mi>p</mi><mi>r</mi><mi>i</mi><mi>c</mi><mi>e</mi><mi>s</mi><mo stretchy="false">[</mo><mi>j</mi><mo stretchy="false">]</mo><mo>−</mo><mi>p</mi><mi>r</mi><mi>i</mi><mi>c</mi><mi>e</mi><mi>s</mi><mo stretchy="false">[</mo><mi>i</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">profit = prices[j] - prices[i]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">p</span><span class="mord mathnormal">ro</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mord mathnormal">i</span><span class="mord mathnormal">t</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">p</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mord mathnormal">i</span><span class="mord mathnormal">ces</span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">p</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mord mathnormal">i</span><span class="mord mathnormal">ces</span><span class="mopen">[</span><span class="mord mathnormal">i</span><span class="mclose">]</span></span></span></span>.</li>
<li>If profit is greater than max_profit, update max_profit to profit.</li>
</ul>
</li>
<li>After iterating through all possible pairs, return max_profit.</li>
</ul>
<h4 id="brute-force-java-implementation">Brute-Force: Java implementation</h4>
<pre><code class="language-java">    <span class="hljs-keyword">class</span> <span class="hljs-title class_">SolutionBruteForce</span> {
        <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">maxProfit</span><span class="hljs-params">(<span class="hljs-type">int</span>[] prices)</span> {
            <span class="hljs-type">int</span> <span class="hljs-variable">n</span> <span class="hljs-operator">=</span> prices.length;
            <span class="hljs-type">int</span> <span class="hljs-variable">maxProfit</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;
            <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; n - <span class="hljs-number">1</span>; i++) {
                <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">j</span> <span class="hljs-operator">=</span> i + <span class="hljs-number">1</span>; j &lt; n; j++) {
                    <span class="hljs-type">int</span> <span class="hljs-variable">profit</span> <span class="hljs-operator">=</span> prices[j] - prices[i];
                    <span class="hljs-keyword">if</span> (profit &gt; maxProfit) {
                        maxProfit = profit;
                    }
                }
            }
            <span class="hljs-keyword">return</span> maxProfit;
        }
    }
</code></pre>
<h4 id="brute-force-python-implementation">Brute-Force: Python implementation</h4>
<pre><code class="language-python">      <span class="hljs-keyword">def</span> <span class="hljs-title function_">max_profit_brute_force</span>(<span class="hljs-params">prices</span>):
        n = <span class="hljs-built_in">len</span>(prices)
        max_profit = <span class="hljs-number">0</span>
        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(n - <span class="hljs-number">1</span>):
            <span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(i + <span class="hljs-number">1</span>, n):
                profit = prices[j] - prices[i]
                <span class="hljs-keyword">if</span> profit &gt; max_profit:
                    max_profit = profit
        <span class="hljs-keyword">return</span> max_profit
</code></pre>
<h2 id="optimized-approach">Optimized Approach:</h2>
<h3 id="solution-two-pointer-approach">Solution: Two pointer approach</h3>
<ul>
<li>We can optimize this by using a single pass through the prices array. The idea is to keep track of the minimum price encountered so far. For each day, we can calculate the potential profit if we were to sell on that day (by subtracting the minimum price seen so far).</li>
<li>We then update the maximum profit if the current potential profit is greater than the current maximum profit.</li>
</ul>
<h3 id="algorithm-for-optimized-approach-tc-on-sc-o1">Algorithm for Optimized Approach [T.C: $$O(n), S.C: <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span></span></span></span>]:</h3>
<ul>
<li>Initialize min_price to infinity (or the price on the first day).</li>
<li>Initialize max_profit to 0.</li>
<li>Iterate through the prices array with an index i from 0 to n-1.</li>
<li>In each iteration:
<ul>
<li>Update min_price to be the minimum of the current min_price and prices[i].
<ul>
<li>This ensures we always have the lowest buying price encountered up to the current day.</li>
</ul>
</li>
<li>Calculate the potential profit if we sell on the current day:
<ul>
<li><em>current_profit = prices[i] - min_price.</em></li>
</ul>
</li>
<li>Update max_profit to be the maximum of the current max_profit and current_profit.</li>
</ul>
</li>
<li>After iterating through all the days, return max_profit.</li>
</ul>
<h4 id="two-poiner--java-implementation">Two poiner : Java implementation</h4>
<pre><code class="language-java">    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">maxProfit</span><span class="hljs-params">(<span class="hljs-type">int</span>[] prices)</span> {
        <span class="hljs-type">int</span> <span class="hljs-variable">minPrice</span> <span class="hljs-operator">=</span> Integer.MAX_VALUE;
        <span class="hljs-type">int</span> <span class="hljs-variable">maxProfit</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;
        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> price : prices) {
            minPrice = Math.min(minPrice, price);
            <span class="hljs-type">int</span> <span class="hljs-variable">profit</span> <span class="hljs-operator">=</span> price - minPrice;
            maxProfit = Math.max(maxProfit, profit);
        }
        <span class="hljs-keyword">return</span> maxProfit;
    }

    <span class="hljs-comment">//implementation 2</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">maxProfit</span><span class="hljs-params">(<span class="hljs-type">int</span>[] prices)</span> {
      
      <span class="hljs-keyword">if</span>(prices.length &lt;= <span class="hljs-number">1</span>) <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
      
      <span class="hljs-type">int</span> <span class="hljs-variable">profit</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>, l = <span class="hljs-number">0</span>, r = l + <span class="hljs-number">1</span>;
      <span class="hljs-keyword">while</span>(r &lt; prices.length) {
          <span class="hljs-keyword">if</span>(prices[l] &lt; prices[r]) {
              <span class="hljs-type">int</span> <span class="hljs-variable">t</span> <span class="hljs-operator">=</span> prices[r] - prices[l];
              profit = profit &gt; t ? profit : t;
              r++;
          } <span class="hljs-keyword">else</span> {
              l = r;
              r++;
          }
      }
      <span class="hljs-keyword">return</span> profit;
  }
</code></pre>
<h4 id="two-poiner--python-implementation">Two poiner : Python implementation</h4>
<pre><code class="language-python">    <span class="hljs-keyword">def</span> <span class="hljs-title function_">max_profit_optimized</span>(<span class="hljs-params">prices</span>):
      min_price = <span class="hljs-built_in">float</span>(<span class="hljs-string">&#x27;inf&#x27;</span>)
      max_profit = <span class="hljs-number">0</span>
      <span class="hljs-keyword">for</span> price <span class="hljs-keyword">in</span> prices:
          min_price = <span class="hljs-built_in">min</span>(min_price, price)
          profit = price - min_price
          max_profit = <span class="hljs-built_in">max</span>(max_profit, profit)
      <span class="hljs-keyword">return</span> max_profit
</code></pre>
<hr>
<center>
<h1> ------ End ------ </h1>
</center>
<!-- HTML styling -->
<style>
  table, th, td {
    border: 1px solid black;
    border-collapse: collapse;
  }
  heading {
    color: blue;
    font-size: 20px;
  }
</style>

            <script async src="https://cdn.jsdelivr.net/npm/katex-copytex@latest/dist/katex-copytex.min.js"></script>
            
        </body>
        </html>